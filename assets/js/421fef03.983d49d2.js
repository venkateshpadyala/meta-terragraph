"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2201],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=d(a),u=r,h=c["".concat(s,".").concat(u)]||c[u]||m[u]||i;return a?n.createElement(h,l(l({ref:t},p),{},{components:a})):n.createElement(h,l({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var d=2;d<i;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2613:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const i={},l="Overview",o={unversionedId:"runbook/Overview",id:"runbook/Overview",title:"Overview",description:"Introduction",source:"@site/../docs/runbook/Overview.md",sourceDirName:"runbook",slug:"/runbook/Overview",permalink:"/docs/runbook/Overview",draft:!1,editUrl:"https://github.com/terragraph/meta-terragraph/edit/main/docs/../docs/runbook/Overview.md",tags:[],version:"current",frontMatter:{},sidebar:"runbookSidebar",previous:{title:"Terragraph Runbook",permalink:"/docs/runbook/"},next:{title:"Quick Start",permalink:"/docs/runbook/Quick_Start"}},s={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Terragraph Applications and Use Cases",id:"terragraph-applications-and-use-cases",level:2},{value:"Fixed Wireless Access",id:"fixed-wireless-access",level:3},{value:"Wi-Fi Metropolitan Coverage",id:"wi-fi-metropolitan-coverage",level:3},{value:"Mobile Backhaul",id:"mobile-backhaul",level:3},{value:"Important Terms",id:"important-terms",level:2},{value:"Technical Overview",id:"technical-overview",level:2},{value:"RF / mmWave",id:"rf--mmwave",level:3},{value:"Beamforming",id:"beamforming",level:3},{value:"Wireless Mesh",id:"wireless-mesh",level:3},{value:"DMG PHY",id:"dmg-phy",level:3},{value:"Terragraph MAC",id:"terragraph-mac",level:3},{value:"Terragraph Software",id:"terragraph-software",level:3},{value:"Cloud Software",id:"cloud-software",level:4},{value:"E2E Services",id:"e2e-services",level:5},{value:"NMS Backend",id:"nms-backend",level:5},{value:"Node Software",id:"node-software",level:4},{value:"E2E Minion",id:"e2e-minion",level:5},{value:"Stats Agent",id:"stats-agent",level:5},{value:"Net-SNMP",id:"net-snmp",level:5},{value:"SNMP Agent",id:"snmp-agent",level:5},{value:"Logtail",id:"logtail",level:5},{value:"Fluent Bit",id:"fluent-bit",level:5},{value:"Open/R",id:"openr",level:5},{value:"External Access",id:"external-access",level:4},{value:"Terragraph Hardware",id:"terragraph-hardware",level:3},{value:"Hardware Types",id:"hardware-types",level:4},{value:"Puma Hardware",id:"puma-hardware",level:4},{value:"Puma Hardware Specifications",id:"puma-hardware-specifications",level:5},{value:"Rev5 Hardware",id:"rev5-hardware",level:4},{value:"Communications",id:"communications",level:4}],p={toc:d};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"overview"},"Overview"),(0,r.kt)("a",{id:"overview-intro"}),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"Meta believes that people \u2014 no matter where they live \u2014 deserve a consistent,\nhigh-bandwidth internet experience. In many markets, slow internet speeds are\nprevalent given the complexities of expanding existing networks in a timely\nmanner. Meta has developed the Terragraph system to reduce the time taken to add\nthese capacity solutions."),(0,r.kt)("p",null,'Terragraph (TG) is a 60GHz, multi-node wireless Software Defined Network (SDN)\nthat enables high-speed internet connectivity in multiple environments. It\nincorporates commercial, off-the-shelf components and industrial design for\nquick and affordable deployments across many markets. The network operates best\nin Line-Of-Sight (LOS) conditions to maximize connectivity. In its essence,\nTerragraph is "wireless fiber" with gigabit speeds, rapid deployment capability,\nand flexible use case support.'),(0,r.kt)("p",null,"Terragraph is a ",(0,r.kt)("em",{parentName:"p"},"distribution")," level network designed to augment and expand a\nfiber optic network. That is, Terragraph is a high-speed backbone network to\nwhich other networks are connected. When combined with fixed access connections\nor Wi-Fi access points, Terragraph is a low-cost solution to achieve\nstreet-level coverage with high speeds."),(0,r.kt)("p",null,"A Terragraph network is composed of individual nodes supported by network\nservices operating in the cloud. There are two types of nodes in a Terragraph\nnetwork \u2013 Distribution Nodes (DNs) and Client Nodes (CNs). DNs are the backbone\nof the Terragraph network that distribute internet connectivity from one or more\nfiber optic Points of Presence (PoPs) over multiple hops to CNs. DNs and CNs are\nconnection points for client networks, wireless access points, and other\ncustomer premise equipment (CPE) to connect to the internet."),(0,r.kt)("p",null,"Each node in a Terragraph network is a Layer 3 (L3) router. Nodes route traffic\nwithin and between the Terragraph network and attached access networks using\nrouting information provided by the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/facebook/openr"},"Open/R protocol"),". The over-the-air link\nprotocol between Terragraph nodes uses a modified version of the Directed\nMulti-Gigabit (DMG) physical layer (PHY) of the IEEE 802.11-2016 standard,\npreviously the 802.11ad-2012 amendment to the IEEE Standard 802.11-2012, and a\nsignificantly slimmed down Media Access Control (MAC) layer. Each node uses a\nmulti-element, phased array antenna and advanced beamforming techniques to form\nhigh-quality communication links between nodes at distances in excess of 250\nmeters, including primarily LOS paths, while also using reflection paths between\nthe nodes. The multiple propagation paths between nodes are called micro-routes,\nand each micro-route is a potential communication link between nodes. Each node\nselects the strongest communication link from the many possible propagation\npaths between the nodes. The phased array antenna allows Terragraph to establish\nlinks to mitigate co-channel interference that often prevails in dense urban\nenvironments."),(0,r.kt)("p",null,"Two services in the cloud \u2014 the End-to-End Service (E2E) and the Network\nManagement Service (NMS) \u2014 configure, control, and monitor the Terragraph\nnetwork."),(0,r.kt)("a",{id:"overview-uses"}),(0,r.kt)("h2",{id:"terragraph-applications-and-use-cases"},"Terragraph Applications and Use Cases"),(0,r.kt)("p",null,"Common use cases for a Terragraph network are described below."),(0,r.kt)("h3",{id:"fixed-wireless-access"},"Fixed Wireless Access"),(0,r.kt)("p",null,"Terragraph can help supply Internet Service Provider (ISP) services to\nresidential homes, apartment buildings (i.e., multi-dwelling units, or MDUs), or\nsmall/medium-size offices. This may also include distribution in an office\ncomplex, a collection of school buildings, or generally, any area where fiber\nconnectivity has not been installed and a wireless Gbps solution would\ncost-effectively supply high speed broadband to fixed users. The network design\ninvolves a mesh of DNs that distribute broadband and terminate in CNs attached\nto homes/buildings \u2013 connectivity is further distributed indoors through\nexisting wired or Wi-Fi systems."),(0,r.kt)("h3",{id:"wi-fi-metropolitan-coverage"},"Wi-Fi Metropolitan Coverage"),(0,r.kt)("p",null,"Smart cities and municipal Wi-Fi systems can provide high capacity Gbps coverage\nusing a city-wide Wi-Fi network interconnected with a Terragraph network. This\ncan be utilized for a variety of services, such as public safety, city, and\ncommercial services. Under this use case, the Wi-Fi access points are connected\nto the DNs in the mesh of the city. The distance between Terragraph nodes is\nroughly the same as the range of the signal coverage from the Wi-Fi nodes,\nmaking this an ideal scenario."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/deployment.png",width:"1000"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"A Terragraph deployment")),(0,r.kt)("h3",{id:"mobile-backhaul"},"Mobile Backhaul"),(0,r.kt)("p",null,"Next-generation cellular networks require denser deployment and multi-gigabit\ndata rates to backhaul the radio sites. Terragraph-based solutions can help\nmobile operators easily augment capacity in areas where fiber is not available\nor viable."),(0,r.kt)("a",{id:"overview-terms"}),(0,r.kt)("h2",{id:"important-terms"},"Important Terms"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Node")," - A general purpose compute unit that controls one or more sectors\nand runs on Linux."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Sector")," - A wireless baseband card attached to a node."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Site")," - A collection of one or more nodes installed at the same physical\nlocation."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Street Furniture")," - Objects placed or fixed in the street for public use,\nsuch as light poles, utility poles, traffic signals, bus stops, billboards,\nand traffic signals."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"DN (Distribution Node)")," - A node that distributes the bandwidth from a\nfiber PoP to neighboring nodes in the Terragraph mesh network. These are the\nactive elements that make up the network itself."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"CN (Client Node)")," - A node serving as the termination point where service\ndelivery takes place. These are not a part of the mesh network for\ndistribution, but provide connectivity to a fixed client such as an eNodeB,\nWi-Fi Access point (AP), or a fixed connection to a home or office."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"CPE (Customer Premise Equipment)")," - Equipment connected to a Terragraph\nDN or CN for customer use, such as a Wi-Fi access point."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"PoP (Point-of-Presence) Node")," - A DN that serves as the demarcation\nbetween the Terragraph network and the provider's backbone network. The PoP\nnode is part of the Terragraph network."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"E2E (End-to-End) Controller")," - The cloud service that configures and\ncontrols various aspects of the Terragraph network."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"NMS (Network Management Service) Aggregator")," - The cloud service that\ncollects and aggregates statistics, events, and logs from nodes in the\nTerragraph network. ",(0,r.kt)("em",{parentName:"li"},"This component is deprecated in favor of Kafka and\nFluentd.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Mesh Network")," - Terragraph employs a directed mesh network of DNs to\ndeliver broadband services. A directed mesh network is designed to use\nmultiple connections in several directions from each node thereby providing\nboth high reliability and path redundancy."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Open/R")," - The routing protocol developed for and used by Terragraph."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"802.11ad")," - The IEEE standard which supports high speed wireless\ncommunication in the 60GHz unlicensed band. Terragraph is based on the IEEE\n802.11ad specification, but portions of the standard have been modified to\nimprove reliability and performance over longer link distances."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"802.11ay")," - An extension to the IEEE 802.11ad standard, intended to focus\nspecifically on the Terragraph use case (i.e. outdoor, scheduled, and\ndirected) that enables up to 40Gbps through channel bonding and MIMO."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Path Loss"),' - The reduction in power density (attenuation) of an\nelectromagnetic wave as it propagates through the wireless channel. It is a\ncombination of "free space" loss and channel impairments such as diffraction\nand reflection. As distance increases or an obtrusion enters into the link,\npath loss increases. This quantity is expressed in decibels and generally\nexceeds 100dB between the transmitter and receiver at the edge of coverage.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Azimuth")," - The orientation at which a radio antenna is pointed. This is\nbased on a compass angle between 0-360 degrees."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"dBm")," - The power ratio in decibels (dB) of the measured power referenced\nto one milliwatt (mW)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"RSSI (Received Signal Strength Indicator)")," - The power present in a\nreceived radio signal. The smaller the value, the lower the signal power\nreceived by the radio."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"PER (Packet Error Rate)")," - A ratio measuring received packets that\ncontain at least one error."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"SNR (Signal-to-Noise Ratio)")," - The ratio of intended receive signal to\nthe total noise and interference. The limit of connectivity is determined by\nthe SNR that is achieved at the receiver, which drives connectivity and the\nspeed of the connection."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"MCS (Modulation and Coding Scheme)"),' - Based on a link\'s SNR and PER, link\nadaptation on the Terragraph radio will pick a corresponding MCS to ensure\nthat the link remains stable in changing RF conditions. MCS refers to the\nnotion of packaging less data in fewer number of bits and mathematically\nprotecting it to increase the probability of successful decoding on the\nreceiver end. Low MCS is directly proportional to lower throughput. A table\nshowing the different MCS rates and corresponding data rates is shown below.\nNote that "N_CBPS" represents the number of code bits per symbol.')),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"MCS Index"),(0,r.kt)("th",{parentName:"tr",align:null},"Modulation"),(0,r.kt)("th",{parentName:"tr",align:null},"N_CBPS"),(0,r.kt)("th",{parentName:"tr",align:null},"Repetition"),(0,r.kt)("th",{parentName:"tr",align:null},"Code rate"),(0,r.kt)("th",{parentName:"tr",align:null},"Data rate (Mbps)"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-1"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 BPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"1/2"),(0,r.kt)("td",{parentName:"tr",align:null},"385")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-2"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 BPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1/2"),(0,r.kt)("td",{parentName:"tr",align:null},"770")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-3"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 BPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"5/8"),(0,r.kt)("td",{parentName:"tr",align:null},"962.5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-4"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 BPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"3/4"),(0,r.kt)("td",{parentName:"tr",align:null},"1155")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-5"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 BPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"13/16"),(0,r.kt)("td",{parentName:"tr",align:null},"1251.25")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-6"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 QPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1/2"),(0,r.kt)("td",{parentName:"tr",align:null},"1540")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-7"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 QPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"5/8"),(0,r.kt)("td",{parentName:"tr",align:null},"1925")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-8"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 QPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"3/4"),(0,r.kt)("td",{parentName:"tr",align:null},"2310")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-9"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 QPSK"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"13/16"),(0,r.kt)("td",{parentName:"tr",align:null},"2502.5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-10"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 16QAM"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1/2"),(0,r.kt)("td",{parentName:"tr",align:null},"3080")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-11"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 16QAM"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"5/8"),(0,r.kt)("td",{parentName:"tr",align:null},"3850")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MCS-12"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud835\uded1","/2 16QAM"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"3/4"),(0,r.kt)("td",{parentName:"tr",align:null},"4620")))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Table: Modulation code rate for Single Carrier PHY")),(0,r.kt)("a",{id:"overview-tech"}),(0,r.kt)("h2",{id:"technical-overview"},"Technical Overview"),(0,r.kt)("h3",{id:"rf--mmwave"},"RF / mmWave"),(0,r.kt)("p",null,"Terragraph networks utilize the 60GHz (V-Band) spectrum. In many countries,\nV-Band is unlicensed and allows for multiple GHz of RF bandwidth. The amount of\navailable spectrum for use by Terragraph varies depending on local wireless\nregulations. Terragraph supports channels 1, 2, 3, and 4 in the 60GHz band. Each\nchannel, as per the 802.11ad specification, is 2.16GHz wide as shown below."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/spectrum.png",width:"800"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"60GHz band allocation")),(0,r.kt)("p",null,"Oxygen is a magnetic dipole that absorbs energy at 60GHz and results in an\nattenuation of 16dB/km. In addition, millimeter waves (mmWaves) do not penetrate\nwell through solid walls, and any obstructions in the link path can cause\nsignificant signal attenuation. Foliage can increase a link's path loss from 5\nto 20dB. The path loss due to foliage can be impacted by environmental variables\nsuch as wind and precipitation. Rain also adds significant attenuation at 60GHz,\nmaking it crucial to factor in the peak rain rate during link design."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/rain_attenuation.png",width:"700"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Rain attenuation of a 60GHz system")),(0,r.kt)("h3",{id:"beamforming"},"Beamforming"),(0,r.kt)("p",null,"Terragraph uses beamforming (BF) to address many of the challenges stated above.\nBF is the process of using signal propagation information between two antennas\nand modifying antenna characteristics to maximize the signal quality between\nthem. The BF process is accomplished in a few discrete states, including passive\nacquisition, active signaling, and continuous refinement."),(0,r.kt)("p",null,"Terragraph radios use antennas that are electronically steerable in both the\nhorizontal (azimuth) and vertical (elevation) directions, where the exact beam\nwidth and scan range supported depends on the specific OEM hardware variant and\nsoftware configuration. As an example, each of the four sectors on a Terragraph\nPuma radio use 4 RF tiles with 32 elements on each tile, or 128 radiating\nelements in total. The beam is steerable over a 90 degree range in azimuth and\napproximately 15 degree range in elevation, with 28 dBi gain at boresight and\nband center."),(0,r.kt)("p",null,"Terragraph uses beamforming to maximize the antenna gain between other\nTerragraph radios. During each timeslot, the antenna beam can be steered in\nanother direction to communicate with other DN or CN radios within the coverage\narea. Beamforming can also be used to find micro-routes, or other potential\npaths to communicate with other DN or CN radios. Micro-routes can be formed\nfrom objects which reflect RF signals in the mmWave band, such as the metal\nsiding of a building."),(0,r.kt)("h3",{id:"wireless-mesh"},"Wireless Mesh"),(0,r.kt)("p",null,"Terragraph is designed around a mesh topology to deliver connectivity up to 15\nhops away from a PoP node. Network bandwidth is reduced at each hop, and the\ntotal bandwidth available in the network is limited to a PoP node's network\negress. Terragraph can support multiple PoP nodes to increase the total\nbandwidth capacity, and allows multiple points where traffic can ingress and\negress."),(0,r.kt)("p",null,"Having more sectors per node increases the reliability and potential bandwidth\nof the mesh. To maximize network reliability, each Terragraph node should have\nat least two sectors connecting to other DNs in the network."),(0,r.kt)("p",null,"The wireless mesh design in Terragraph allows for route diversity which provides\nhigh network availability. If a link goes down (obstruction, interference, power\nissue, etc.), the Open/R routing protocol will automatically find another route\nthrough the network to the destination node. Open/R continuously pre-computes\nalternate routes through the Terragraph network to ensure swift route\nswitchover."),(0,r.kt)("h3",{id:"dmg-phy"},"DMG PHY"),(0,r.kt)("p",null,"Terragraph uses the IEEE 802.11 DMG PHY layer with a small modification \u2013 the\noptional addition to select the Golay codes used in the PHY preamble. This helps\nmitigate the potential interference from other DMG-based networks and\nself-interference from other distant Terragraph nodes."),(0,r.kt)("p",null,"The Terragraph PHY assigns alternative Golay codes other than those specified in\nthe DMG PHY to provide a means for early rejection of interfering signals.\nAssigning different codes to nodes that could interfere with each other\nmitigates that interference. The E2E controller configures the Golay codes used\nby each sector in the Terragraph network during network ignition."),(0,r.kt)("p",null,"The 802.11ad PHY layer specifies two types of modulation \u2013 OFDM and single\ncarrier. Terragraph uses the single carrier modulation scheme, which supports\nphysical data rates of up to 4.6Gbps in half duplex operation."),(0,r.kt)("h3",{id:"terragraph-mac"},"Terragraph MAC"),(0,r.kt)("p",null,"The Terragraph MAC is based on the PHY layer of IEEE 802.11ad, but is highly\nmodified to remove all functions relating to contention-based medium access,\nbeaconing, scheduled access, and management exchanges. For example, the 802.11\nCSMA/CA collision mechanism has been replaced with TDMA-TDD. These changes allow\nTerragraph to operate far more efficiently at higher network loads and allow for\nlonger links than 802.11ad-based networks."),(0,r.kt)("p",null,"Terragraph uses data, management, and control frames. It maximizes efficiency of\nthe MAC by aggregating the MAC Service Data Units (MSDUs) and the MAC Protocol\nData Units (MPDUs) as much as possible to reduce overhead and to eliminate\ninterframe spacing that results in dead air time. The MAC also utilizes delayed\nblock acknowledgements to minimize the number of frames exchanged between sender\nand receiver, and does not require prior setup because the format, reordering\nbuffer size, and scheduling are fixed."),(0,r.kt)("p",null,"Operating as a TDD network, all Terragraph nodes are time synchronized. Each\nsector is assigned specific time durations during which it can transmit and\nreceive during every TDD frame. During the transmit portion of the TDD frame, a\nsector may transmit to one or more other sectors. Similarly, during the receive\nportion of the TDD frame, the sector may receive from one or more other sectors."),(0,r.kt)("p",null,"Because Terragraph does not use the IEEE 802.11ad MAC layer, it is not\ncompatible with other 802.11ad hardware. If 802.11ad hardware is operating\nnearby on the same frequency, it could cause interference to Terragraph radios."),(0,r.kt)("h3",{id:"terragraph-software"},"Terragraph Software"),(0,r.kt)("a",{id:"cloud-software"}),(0,r.kt)("h4",{id:"cloud-software"},"Cloud Software"),(0,r.kt)("p",null,"The following is a comprehensive list of all the services that are part of the\nTerragraph cloud suite. The Terragraph cloud suite is typically ",(0,r.kt)("a",{parentName:"p",href:"/docs/runbook/Deployment#deployment-cloud-docker-swarm-installation"},"deployed as\nDocker services")," in a\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/swarm/"},"Docker Swarm"),"."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/docker_swarm.svg",width:"1000"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Terragraph cloud services")),(0,r.kt)("h5",{id:"e2e-services"},"E2E Services"),(0,r.kt)("p",null,"The E2E services provide the minimal functionality to bring up and run a\nTerragraph network. These are shown in the table below."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"systemd/Docker Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"API Service"),(0,r.kt)("td",{parentName:"tr",align:null},"api_service"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/facebook/proxygen"},"Proxygen")," webserver exposing an HTTP interface to the ",(0,r.kt)("strong",{parentName:"td"},"E2E Controller"),". Requests are translated into asynchronous, Thrift-serialized ",(0,r.kt)("a",{parentName:"td",href:"http://zeromq.org/"},"ZeroMQ")," messages that are used within Terragraph. Responses are returned in plain JSON. API Service also statically hosts API documentation under the ",(0,r.kt)("inlineCode",{parentName:"td"},"/docs/")," endpoint.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"E2E Controller"),(0,r.kt)("td",{parentName:"tr",align:null},"e2e_controller"),(0,r.kt)("td",{parentName:"tr",align:null},'Software application that communicates with and manages Terragraph nodes in the network. It primarily provides services that require network topology awareness, including the bring-up of wireless links (or "ignition"), software upgrades, and configuration management.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NMS Aggregator"),(0,r.kt)("td",{parentName:"tr",align:null},"nms_aggregator"),(0,r.kt)("td",{parentName:"tr",align:null},"An aggregator that collects raw statistics from ",(0,r.kt)("inlineCode",{parentName:"td"},"stats_agent")," daemons running on all Terragraph nodes. It computes counter values and sends to ",(0,r.kt)("strong",{parentName:"td"},"Query Service")," to store the data in a ",(0,r.kt)("strong",{parentName:"td"},"Prometheus")," back-end. This can be configured to send the computed values to other HTTP endpoints.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Stats Agent"),(0,r.kt)("td",{parentName:"tr",align:null},"stats_agent"),(0,r.kt)("td",{parentName:"tr",align:null},"Agent collecting various system stats off of the controller host.")))),(0,r.kt)("h5",{id:"nms-backend"},"NMS Backend"),(0,r.kt)("p",null,"The NMS backend encompasses all services concerned with data collection,\nvisualization, monitoring, and analysis of the Terragraph network. These\nservices require the E2E services to be running."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Docker Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://nginx.org/en/"},"Nginx")),(0,r.kt)("td",{parentName:"tr",align:null},"proxy_nginx"),(0,r.kt)("td",{parentName:"tr",align:null},"The webserver/proxy used to route all UI components via a single port. ",(0,r.kt)("strong",{parentName:"td"},"NMS UI"),", ",(0,r.kt)("strong",{parentName:"td"},"Grafana"),", ",(0,r.kt)("strong",{parentName:"td"},"Prometheus"),", ",(0,r.kt)("strong",{parentName:"td"},"Keycloak"),", ",(0,r.kt)("strong",{parentName:"td"},"Kibana"),", and ",(0,r.kt)("strong",{parentName:"td"},"Jupyter")," are exposed by default. In the Docker Swarm deployment, Nginx is also used as the single point of entry to access any service within the Swarm.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://jupyter.org/"},"Jupyter")),(0,r.kt)("td",{parentName:"tr",align:null},"msa_jupyter"),(0,r.kt)("td",{parentName:"tr",align:null},"A front-end component to analyze and debug the network using statistics within ",(0,r.kt)("strong",{parentName:"td"},"Prometheus"),". Accessible via ",(0,r.kt)("inlineCode",{parentName:"td"},"/jupyter/")," URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Topology Service"),(0,r.kt)("td",{parentName:"tr",align:null},"msa_topology_service"),(0,r.kt)("td",{parentName:"tr",align:null},"Periodically saves topology changes in MySQL and produces statistics on the assets available in the network to ",(0,r.kt)("strong",{parentName:"td"},"Prometheus"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NMS UI"),(0,r.kt)("td",{parentName:"tr",align:null},"nms_nms"),(0,r.kt)("td",{parentName:"tr",align:null},"The front-end component, built using ",(0,r.kt)("a",{parentName:"td",href:"https://nodejs.org/"},"NodeJS"),", ",(0,r.kt)("a",{parentName:"td",href:"https://reactjs.org/"},"React"),", ",(0,r.kt)("a",{parentName:"td",href:"https://material-ui.com/"},"Material-UI"),", ",(0,r.kt)("a",{parentName:"td",href:"https://www.mapbox.com/"},"Mapbox GL"),", ",(0,r.kt)("a",{parentName:"td",href:"https://expressjs.com/"},"Express"),", ",(0,r.kt)("a",{parentName:"td",href:"https://webpack.js.org/"},"Webpack"),", and many other open-source libraries.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/google/cadvisor"},"cAdvisor")),(0,r.kt)("td",{parentName:"tr",align:null},"nms_cadvisor"),(0,r.kt)("td",{parentName:"tr",align:null},"Collects statistics from all Docker services. The processed statistics are collected via ",(0,r.kt)("strong",{parentName:"td"},"Prometheus")," and available within ",(0,r.kt)("strong",{parentName:"td"},"Grafana"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://grafana.com/"},"Grafana")),(0,r.kt)("td",{parentName:"tr",align:null},"nms_grafana"),(0,r.kt)("td",{parentName:"tr",align:null},"Displays statistics data from ",(0,r.kt)("strong",{parentName:"td"},"Prometheus"),". Allows dashboard creation outside of the NMS UI. Accessible via ",(0,r.kt)("inlineCode",{parentName:"td"},"/grafana/")," URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://prometheus.io/"},"Prometheus")),(0,r.kt)("td",{parentName:"tr",align:null},"stats_prometheus"),(0,r.kt)("td",{parentName:"tr",align:null},"Stores statistics data for use with ",(0,r.kt)("strong",{parentName:"td"},"Grafana"),". Accessible via ",(0,r.kt)("inlineCode",{parentName:"td"},"/prometheus/")," URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Prometheus Cache"),(0,r.kt)("td",{parentName:"tr",align:null},"stats_prometheus_cache"),(0,r.kt)("td",{parentName:"tr",align:null},"Prometheus push gateway for the Query Service and UDP Ping Client.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Query Service"),(0,r.kt)("td",{parentName:"tr",align:null},"stats_query_service"),(0,r.kt)("td",{parentName:"tr",align:null},"Performs queries against MySQL and ",(0,r.kt)("strong",{parentName:"td"},"Prometheus")," databases and translates the data back to the UI. This is used for fetching and translating statistics data for the UI. The CPU intensive calculations are performed in this C++ service instead of the front-end NodeJS UI.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MySQL"),(0,r.kt)("td",{parentName:"tr",align:null},"database_db"),(0,r.kt)("td",{parentName:"tr",align:null},"MySQL database used by various services, such as ",(0,r.kt)("strong",{parentName:"td"},"NMS UI"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://kafka.apache.org/"},"Kafka")),(0,r.kt)("td",{parentName:"tr",align:null},"kafka_kafka"),(0,r.kt)("td",{parentName:"tr",align:null},"Ingests stats, high-frequency stats, and events from the Terragraph network and relays them to the appropriate services.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://zookeeper.apache.org/"},"Zookeeper")),(0,r.kt)("td",{parentName:"tr",align:null},"kafka_zoo"),(0,r.kt)("td",{parentName:"tr",align:null},"Part of the ",(0,r.kt)("strong",{parentName:"td"},"Kafka")," suite that manages the ",(0,r.kt)("strong",{parentName:"td"},"Kafka")," broker cluster.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.elastic.co/products/elasticsearch"},"Elasticsearch")),(0,r.kt)("td",{parentName:"tr",align:null},"efk_elasticsearch"),(0,r.kt)("td",{parentName:"tr",align:null},"Distributed log storage and search engine that is part of the ",(0,r.kt)("strong",{parentName:"td"},"EFK")," (Elasticsearch, Fluentd, Kibana) suite.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.fluentd.org/"},"Fluentd")),(0,r.kt)("td",{parentName:"tr",align:null},"efk_fluentd"),(0,r.kt)("td",{parentName:"tr",align:null},"Part of the ",(0,r.kt)("strong",{parentName:"td"},"EFK")," suite that aggregates logs before sending them to ",(0,r.kt)("strong",{parentName:"td"},"Elasticsearch"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.elastic.co/products/kibana"},"Kibana")),(0,r.kt)("td",{parentName:"tr",align:null},"efk_kibana"),(0,r.kt)("td",{parentName:"tr",align:null},"Part of the ",(0,r.kt)("strong",{parentName:"td"},"EFK")," suite that provides a UI to visualize aggregated logs. Accessible via ",(0,r.kt)("inlineCode",{parentName:"td"},"/kibana/")," URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.keycloak.org/"},"Keycloak")),(0,r.kt)("td",{parentName:"tr",align:null},"keycloak_keycloak"),(0,r.kt)("td",{parentName:"tr",align:null},"Identity and access management. Accessible via ",(0,r.kt)("inlineCode",{parentName:"td"},"/auth/")," URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/chihaya/chihaya"},"Chihaya")),(0,r.kt)("td",{parentName:"tr",align:null},"chihaya_chihaya"),(0,r.kt)("td",{parentName:"tr",align:null},"BitTorrent tracker. Terragraph typically uses BitTorrent during software upgrades to distribute images to Terragraph nodes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UDP Pinger"),(0,r.kt)("td",{parentName:"tr",align:null},"udp_pinger_udp_pinger"),(0,r.kt)("td",{parentName:"tr",align:null},"Sends periodic UDP probes to all nodes in the network to calculate various network statistics such as packet loss and round-trip time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Alarm Service"),(0,r.kt)("td",{parentName:"tr",align:null},"alarms_alarms"),(0,r.kt)("td",{parentName:"tr",align:null},"Consumes Terragraph network events from ",(0,r.kt)("strong",{parentName:"td"},"Kafka")," and generates alarms based on user-configured rules.")))),(0,r.kt)("h4",{id:"node-software"},"Node Software"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/puma_software.svg",width:"1000"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Terragraph node software (on Puma hardware)")),(0,r.kt)("h5",{id:"e2e-minion"},"E2E Minion"),(0,r.kt)("p",null,"The E2E minion is a client process that connects to the E2E controller. The\nminion communicates with the firmware and driver and executes actions from the\ncontroller, such as sending down firmware configuration or bringing up wireless\nlinks to neighbors."),(0,r.kt)("h5",{id:"stats-agent"},"Stats Agent"),(0,r.kt)("p",null,"The stats agent is a process on each node that periodically submits stats and\nevents to configured endpoints, such as a Kafka cluster or an NMS aggregator\ninstance."),(0,r.kt)("h5",{id:"net-snmp"},"Net-SNMP"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"http://www.net-snmp.org/"},"Net-SNMP")," daemon is a process on each node that responds to SNMP GET\nrequests from clients. It collects statistics about the system including\nnetwork interfaces, memory, disk, and CPU by default."),(0,r.kt)("h5",{id:"snmp-agent"},"SNMP Agent"),(0,r.kt)("p",null,'The SNMP agent is a process on each node that connects to the NET-SNMP daemon\nacting as an "agent" process. It connects to the E2E driver-if socket to\ntranslate radio statistics for the ',(0,r.kt)("inlineCode",{parentName:"p"},"TERRAGRAPH-RADIO-MIB"),"."),(0,r.kt)("h5",{id:"logtail"},"Logtail"),(0,r.kt)("p",null,"Logtail is a process on each node that connects to the NMS aggregator. It can be\nconfigured to constantly monitor specific log files and push their content as it\nbecomes available to the NMS aggregator. ",(0,r.kt)("em",{parentName:"p"},"This component is deprecated in favor\nof Fluent Bit.")),(0,r.kt)("h5",{id:"fluent-bit"},"Fluent Bit"),(0,r.kt)("p",null,"Fluent Bit is a process on each node that connects to an instance of Fluentd. It\ncan be configured to constantly monitor specific log files and push their\ncontent as it becomes available to Fluent Bit."),(0,r.kt)("h5",{id:"openr"},"Open/R"),(0,r.kt)("p",null,"Open/R is a distributed network application which provides routing and\nconfiguration parameters to the Terragraph network nodes. Open/R generalizes the\nconcept of a replicated state database found in well-known link-state routing\nprotocols, such as Open Shortest Path First (OSPF) and Intermediate System to\nIntermediate System (IS-IS). In particular, Open/R works similarly to OSPFv6 in\na single OSPF Area with some additional features. In Open/R, each node has an\nidentical view of the network and a consistent route to reach any other node. If\na node becomes unreachable (e.g., powered off or radio link failure), then\nOpen/R will select another route through the Terragraph network."),(0,r.kt)("h4",{id:"external-access"},"External Access"),(0,r.kt)("p",null,"The diagram below illustrates methods to access Terragraph's APIs and data,\nalong with some related processes."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/tg_software_access.svg",width:"800"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Terragraph software: external access")),(0,r.kt)("h3",{id:"terragraph-hardware"},"Terragraph Hardware"),(0,r.kt)("p",null,"The following sections provide an overview of Terragraph hardware. ",(0,r.kt)("em",{parentName:"p"},"Some details\nare only applicable to Meta hardware reference designs.")),(0,r.kt)("h4",{id:"hardware-types"},"Hardware Types"),(0,r.kt)("p",null,"Terragraph hardware consists of two types of nodes, a DN and CN. Each node can\nsupport up to 4Gbps of combined bidirectional throughput (with a maximum of\n2Gbps in each direction). DNs and CNs are designed to support CPEs, such as\nWi-Fi access points."),(0,r.kt)("p",null,"The DNs form the core of the Terragraph backhaul network. Each DN can support\none or multiple sectors (depending on hardware specifications), and each sector\ncan form multiple wireless connections. A higher number of sectors per site\nallows for greater mesh density, improving redundancy and performance. Each DN\nalso has a GPS chipset for propagating accurate timing in the network."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/dn.png"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Rev5 Distribution Node (DN)")),(0,r.kt)("p",null,"The CNs enable client connectivity to the DN backhaul network. A CN can only\ncommunicate with DNs, and is assigned to a single DN but may be reassigned when\nnecessary and possible. Multiple CNs connected to same DN are time multiplexed\nthrough a dynamically scheduled frame structure. CNs are not GPS-enabled."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/cn.png"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Rev5 Client Node (CN)")),(0,r.kt)("h4",{id:"puma-hardware"},"Puma Hardware"),(0,r.kt)("p",null,"Terragraph's NXP-based Puma hardware is comprised of a single network processing\nunit (NPU) and one to four radio sectors. Each radio sector is comprised of a\nQCA6438 baseband IC (BBIC) and 4 antenna modules. Each antenna module has one\nQCA6422 60GHz radio frequency IC (RFIC) and multiple antenna tiles. The NPU\ncommunicates with each BBIC over PCI, of which two are PCIe Gen3 and two are\nPCIe Gen2."),(0,r.kt)("p",null,"Some key features of Puma are listed below:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"High-performance 4-core NXP LS1048 network processor SoC"),(0,r.kt)("li",{parentName:"ul"},"4GB DDR4 main memory"),(0,r.kt)("li",{parentName:"ul"},"4GB eMMC flash non-volatile memory"),(0,r.kt)("li",{parentName:"ul"},"1x 10Gbps SFP+ port"),(0,r.kt)("li",{parentName:"ul"},"1x 1Gbps Ethernet port with PoE IN"),(0,r.kt)("li",{parentName:"ul"},"4x 1Gbps Ethernet port with PoE OUT"),(0,r.kt)("li",{parentName:"ul"},"IF interface between the BB and RF chips (on the RF module)"),(0,r.kt)("li",{parentName:"ul"},"GPS-synchronized timing")),(0,r.kt)("p",null,"The baseband/RF modules reside inside an environmentally sealed enclosure to\nprotect them from the environment. The enclosure incorporates a radome antenna\nassembly. While the radome is not directly part of the baseband/RF modules, it\nis an integral part of the antenna's electrical system performance, and the\nphysical properties of the radome must be considered in the design of the\naperture for maximum performance."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/puma_render.png",width:"256"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Puma Node")),(0,r.kt)("h5",{id:"puma-hardware-specifications"},"Puma Hardware Specifications"),(0,r.kt)("p",null,"The hardware specifications for Puma nodes are given in the table below."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Item"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Dimensions (with Cable Cover)")),(0,r.kt)("td",{parentName:"tr",align:null},"180 mm (W) x 180 mm (L) x 279.3 mm (H)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Mounting Configurations")),(0,r.kt)("td",{parentName:"tr",align:null},"Pole or Wall")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Bracket Freedom of Movement")),(0,r.kt)("td",{parentName:"tr",align:null},"360\xb0 Azimuth, 20\xb0 Elevation and Roll")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Operating Temperature Range")),(0,r.kt)("td",{parentName:"tr",align:null},"-40\xb0C to +55\xb0C")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Ingress Protection")),(0,r.kt)("td",{parentName:"tr",align:null},"IP55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Interfaces")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"1 Gigabit Ethernet ports"),(0,r.kt)("li",null,"10Gb SFP+")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Frequency")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Operating Frequency:")," 57GHz-66GHz"),(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Channels:")," configured channel operation out of 4 available"),(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Channel Bandwidth:")," 2.16GHz"),(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"EIRP:")," 43dBm Peak; 40dBm Average"),(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Modulation:")," Binary Phase-Shift Keying (BPSK), Quadrature Phase-Shift Keying (QPSK), 16 Quadrature Amplitude Modulation (QAM)")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Power")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null," ",(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Input:")," DC 44V-57V, max 4 Amps")," ",(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Output - Power over Ethernet (PoE):")," IEEE 802.3af (15 watts maximum with 48V or 54V power supply) or IEEE 802.3at (25.5 watts maximum with 54V power supply)"),(0,r.kt)("li",null,(0,r.kt)("strong",{parentName:"td"},"Consumption (Without PoE):")," 75 watts")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Certifications")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null," ",(0,r.kt)("li",null,"FCC certificate 2AK7S-FBC2001"),(0,r.kt)("li",null,"UL Listed NWGQ E484144"),(0,r.kt)("li",null,"Japan MIC certificate 208-200121")))))),(0,r.kt)("p",null,"Antenna specifications are listed separately in the table below."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Item"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Frequency Bandwidth")),(0,r.kt)("td",{parentName:"tr",align:null},"57.24 - 65.88 GHz"),(0,r.kt)("td",{parentName:"tr",align:null},"WiGig channels 1, 2, 3, 4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Maximum EIRP")),(0,r.kt)("td",{parentName:"tr",align:null},"43dBm peak",(0,r.kt)("br",null),"40dBm average"),(0,r.kt)("td",{parentName:"tr",align:null},"Will be limited by firmware")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Number of Elements per Array")),(0,r.kt)("td",{parentName:"tr",align:null},"128"),(0,r.kt)("td",{parentName:"tr",align:null},"Assuming 4 tiles of 32 elements each")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Half Power Beam Width")),(0,r.kt)("td",{parentName:"tr",align:null},"Az = 20\xb0",(0,r.kt)("br",null),"El = 2.5\xb0"),(0,r.kt)("td",{parentName:"tr",align:null},"Typical boresight value at band center")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Azimuth Scan Angle Range")),(0,r.kt)("td",{parentName:"tr",align:null},"\xb145\xb0"),(0,r.kt)("td",{parentName:"tr",align:null},"Requires \xb145\xb0 for full azimuthal coverage")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Grating Lobe Level")),(0,r.kt)("td",{parentName:"tr",align:null},"-4dB"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Average Gain")),(0,r.kt)("td",{parentName:"tr",align:null},"28dBi"),(0,r.kt)("td",{parentName:"tr",align:null},"Typical boresight value at band center")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Aperture Polarization")),(0,r.kt)("td",{parentName:"tr",align:null},"Linear"),(0,r.kt)("td",{parentName:"tr",align:null},"Vertically polarized in typical installation")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Operating Temperature")),(0,r.kt)("td",{parentName:"tr",align:null},"-40\xb0C to +55\xb0C"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"rev5-hardware"},"Rev5 Hardware"),(0,r.kt)("p",null,'Terragraph\'s older Rev5 platform was based on the Marvell Armada 39x SoC and\nutilized its hardware accelerator (Marvell A390x Network Subsystem, or NSS).\nEach Rev5 node supported a single radio sector, and up to three "secondary"\nnodes could be connected to a "primary" node over a USB/Marvell AC3 connection\nfor power and data transfer.'),(0,r.kt)("h4",{id:"communications"},"Communications"),(0,r.kt)("p",null,"Terragraph sectors operate on the same radio frequency and transmit using an\nadaptive TDMA-TDD frame structure. This requires precise time synchronization to\nensure that frames can be decoded in the proper time-slot. For this reason,\nTerragraph DNs are GPS-synchronized."),(0,r.kt)("p",null,'Sectors on both ends of a wireless link alternate between transmitting and\nreceiving. This dramatically reduces interference, as nodes only receive very\nweak interfering signals from at least three hops away. To achieve this, each\nsector is assigned a "polarity" of odd, even, or "hybrid" (hybrid-odd or\nhybrid-even). Hybrid polarity sectors operate only half the time, during odd\nsuperframes or even superframes, respectively. This enables additional\nflexibility in network design but cuts effective bandwidth in half.'),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"/figures/polarity.svg",width:"500"}),(0,r.kt)("br",null),(0,r.kt)("em",null,"Polarity: Sectors alternate between transmission and reception")))}m.isMDXComponent=!0}}]);