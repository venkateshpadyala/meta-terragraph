"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7598],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),h=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=h(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=h(n),c=i,m=p["".concat(s,".").concat(c)]||p[c]||u[c]||r;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var h=2;h<r;h++)o[h]=n[h];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5057:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>h});var a=n(7462),i=(n(7294),n(3905));const r={},o="Network Planning",l={unversionedId:"runbook/Planning",id:"runbook/Planning",title:"Network Planning",description:"This document provides guidelines and technical requirements for creating a",source:"@site/../docs/runbook/Planning.md",sourceDirName:"runbook",slug:"/runbook/Planning",permalink:"/docs/runbook/Planning",draft:!1,editUrl:"https://github.com/terragraph/meta-terragraph/edit/main/docs/../docs/runbook/Planning.md",tags:[],version:"current",frontMatter:{},sidebar:"runbookSidebar",previous:{title:"Quick Start",permalink:"/docs/runbook/Quick_Start"},next:{title:"Deployment and Installation",permalink:"/docs/runbook/Deployment"}},s={},h=[{value:"Terragraph Network Elements",id:"terragraph-network-elements",level:2},{value:"Node",id:"node",level:4},{value:"Sector",id:"sector",level:4},{value:"Site",id:"site",level:4},{value:"Link",id:"link",level:4},{value:"IP Network Planning",id:"ip-network-planning",level:2},{value:"Network Design Methodology",id:"network-design-methodology",level:2},{value:"Recommended Methodology",id:"recommended-methodology",level:3},{value:"Network Design Overview",id:"network-design-overview",level:3},{value:"Detailed Network Design Criteria",id:"detailed-network-design-criteria",level:3},{value:"Fiber PoPs",id:"fiber-pops",level:4},{value:"Terragraph Sites",id:"terragraph-sites",level:4},{value:"Network Design Tools",id:"network-design-tools",level:3},{value:"Site/Pole Selection Survey",id:"sitepole-selection-survey",level:2},{value:"Site Survey Basics",id:"site-survey-basics",level:3},{value:"LOS Survey",id:"los-survey",level:3},{value:"Survey Documentation Guidelines",id:"survey-documentation-guidelines",level:3},{value:"RF Deployment Guidelines",id:"rf-deployment-guidelines",level:2},{value:"DN Placement Considerations",id:"dn-placement-considerations",level:3},{value:"CN Placement Considerations",id:"cn-placement-considerations",level:3},{value:"Legend for Diagrams",id:"legend-for-diagrams",level:3},{value:"Mounting Accuracy",id:"mounting-accuracy",level:3},{value:"Tight Angles",id:"tight-angles",level:3},{value:"Near-Far Ratio",id:"near-far-ratio",level:3},{value:"Link Distances",id:"link-distances",level:3},{value:"Node Height",id:"node-height",level:3},{value:"Special Topology Guidelines",id:"special-topology-guidelines",level:2},{value:"Straight Line Interference",id:"straight-line-interference",level:3},{value:"Butterfly (Two DNs in P2MP Configuration)",id:"butterfly-two-dns-in-p2mp-configuration",level:3},{value:"Y-Street (One DN in P2MP Configuration)",id:"y-street-one-dn-in-p2mp-configuration",level:3},{value:"Hybrid Polarity (Odd Number of Sites)",id:"hybrid-polarity-odd-number-of-sites",level:3}],d={toc:h};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"network-planning"},"Network Planning"),(0,i.kt)("p",null,"This document provides guidelines and technical requirements for creating a\nTerragraph network design, and is intended for network infrastructure engineers.\n",(0,i.kt)("em",{parentName:"p"},"Some details are only applicable to Meta hardware reference designs.")),(0,i.kt)("a",{id:"planning-network-elements"}),(0,i.kt)("h2",{id:"terragraph-network-elements"},"Terragraph Network Elements"),(0,i.kt)("p",null,"Terragraph utilizes a hierarchy of different physical and logical elements to\ncreate a network topology. These network elements consists of nodes, sectors,\nsites, and links, and are described in further detail below."),(0,i.kt)("h4",{id:"node"},"Node"),(0,i.kt)("p",null,"A node is a general purpose compute unit that controls one or more sectors.\nPuma nodes support up to four sectors."),(0,i.kt)("p",null,"There are two different types of nodes:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"DN")," - Distributes bandwidth to neighboring Terragraph nodes. A DN is\nconsidered a fiber PoP when the SFP+ port is utilized to connect the\nTerragraph network into a provider's IP network."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"CN")," - Terminates IP connectivity to a customer (similar to a\nmodem) and wirelessly connects to a DN.")),(0,i.kt)("h4",{id:"sector"},"Sector"),(0,i.kt)("p",null,"A sector is a wireless baseband card attached to a node."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"On Puma, each DN sector supports a total of fifteen wireless connections,\ncomprised of up to two other DN sectors and up to fifteen CN sectors."),(0,i.kt)("li",{parentName:"ul"},"Each CN sector can only wirelessly connect to a single DN sector.")),(0,i.kt)("h4",{id:"site"},"Site"),(0,i.kt)("p",null,"A site is a logical element referring to the physical location at which one or\nmore nodes are installed. A site is considered a fiber PoP when the Primary-DN\nat the site is interconnected to a provider's IP network."),(0,i.kt)("h4",{id:"link"},"Link"),(0,i.kt)("p",null,"A link is the logical element that defines the relationship between two sectors\nor nodes. There are two different types of links:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Wired")," - Ethernet links used for Primary-DN to Secondary-DN connections,\nor occasionally wired cross-site connections."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Wireless")," - RF links, used for DN to DN or DN to CN connections.")),(0,i.kt)("a",{id:"ip-network-planning"}),(0,i.kt)("h2",{id:"ip-network-planning"},"IP Network Planning"),(0,i.kt)("p",null,"Terragraph is a Layer 3, routed IPv6 network technology where Terragraph nodes\nincorporate an RF radio and an IP router. This section focuses on the IP routing\naspect of Terragraph nodes. Terragraph uses Border Gateway Protocol (BGP) as the\nexterior gateway protocol (EGP) and Open/R as the interior gateway protocol\n(IGP)."),(0,i.kt)("p",null,"The network prefix in Terragraph is usually a /56 allocation, which is further\ndivided into /64 prefixes to be assigned to individual nodes. The network prefix\nbounds the maximum possible number of radios in the deployment. A /56 network,\nfor example, will yield 256 distinct /64 allocations."),(0,i.kt)("p",null,"Where possible, it is advisable to choose a network prefix space much larger\nthan the anticipated number of deployed nodes (e.g. to account for future\nnetwork expansion), and which yields at least twice as many allocations as the\nnumber of nodes (e.g. to support network-wide address reassignment). Below are\nsome commonly used IPv6 network prefixes used in Terragraph."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Prefix"),(0,i.kt)("th",{parentName:"tr",align:null},"Max Number of Radios"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"/60"),(0,i.kt)("td",{parentName:"tr",align:null},"16")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"/58"),(0,i.kt)("td",{parentName:"tr",align:null},"64")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"/56"),(0,i.kt)("td",{parentName:"tr",align:null},"256")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"/48"),(0,i.kt)("td",{parentName:"tr",align:null},"65536")))),(0,i.kt)("p",null,"Each Terragraph node is assigned an IPv6 /64 prefix as the loopback interface.\nThis loopback interface address is used by the E2E controller to address the\nnode. Prefix allocation to the nodes can be done randomly or centrally through\nthe E2E controller. The /64 address prefix also enables the node to address\ndownstream CPEs using Stateless Address Autoconfiguration (SLAAC) via router\nadvertisements or DHCPv6."),(0,i.kt)("p",null,"Terragraph is an IPv6-only network. To support IPv4 traffic, the use of Layer 2\nTunneling, NAT64, or DS-Lite is recommended."),(0,i.kt)("p",null,"While Terragraph is a wireless technology, there must be at least one wired\nTerragraph PoP node that connects to an upstream IPv6-enabled network.\nTerragraph PoP nodes peer with an upstream router using BGP. In the BGP\nimplementation, the PoP node advertises the Terragraph network prefix (or a\nsubset of the prefix) and expects to receive a default route from the upstream\nrouter. Upon receiving this default route, the Terragraph PoP advertises the\ndefault route in the Open/R protocol. This ensures that the rest of the nodes in\nthe network have an egress path to reach upstream networks."),(0,i.kt)("p",null,"Terragraph networking has two limitations:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The subnet size of the Terragraph PoP radio and the upstream router must be\n/64, as variable length  subnetting is not supported on revision 5 hardware."),(0,i.kt)("li",{parentName:"ol"},"All Terragraph PoP nodes must be connected to the same Layer 2 broadcast\ndomain. This allows Terragraph PoP nodes to forward traffic to other Terragraph\nPoP nodes via a wired connection when the routing path of the other PoP node is\ncloser to the traffic's destination. This concept is known as tromboning,\nbecause the traffic enters a PoP node and then leaves toward another PoP node.")),(0,i.kt)("a",{id:"planning-network-design"}),(0,i.kt)("h2",{id:"network-design-methodology"},"Network Design Methodology"),(0,i.kt)("h3",{id:"recommended-methodology"},"Recommended Methodology"),(0,i.kt)("p",null,'For large Terragraph deployments (greater than 1.0 sq. km), the network design\nshould be broken down into smaller, more manageable sections called "areas".\nUsing the area technique has the following benefits:'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Terragraph can be deployed faster since only a subset of the entire network\nneeds to be designed and permitted before construction can commence."),(0,i.kt)("li",{parentName:"ul"},"Lessons learned in both network design and installation from the first\ndeployment area can be incorporated into the subsequent area deployment.")),(0,i.kt)("p",null,"The recommended area breakdown is as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Area 1")," - Initial area with limited network scale. The goal is to gain\nfamiliarity with the design of Terragraph network, work through the\npermitting process, and optimize the deployment and installation of the\nnetwork. Lessons learned in Area 1 can be utilized in the subsequent area\ndesigns."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Area 2")," - Expansion area designed to test the lessons learned in Area 1."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Area 3")," - Wide scale expansion of the Terragraph network.")),(0,i.kt)("h3",{id:"network-design-overview"},"Network Design Overview"),(0,i.kt)("p",null,"Below is a recommendation on how to design a Terragraph network. This is a\nhigh-level overview, and subsequent sections provide more detail on how to\naccomplish many of these steps."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Start by determining the target area for the Terragraph deployment based on\nthe use case (e.g., Wi-Fi, fixed wireless)."),(0,i.kt)("li",{parentName:"ol"},"Within the target area, identify potential locations for the fiber PoPs where\nTerragraph can interconnect to the provider's IP network.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"It is recommended to start with more fiber PoPs than necessary, as this\nallows for network capacity to be easily added in the future and for\ncertain fiber PoPs to fall out of the design without impacting the overall\nTerragraph network topology."))),(0,i.kt)("li",{parentName:"ol"},"Identity sites which are one wireless hop away from the fiber PoPs.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"It is essential to have multiple wireless point-to-point (1xDN to 1xDN)\nlinks branching off from the fiber PoP site into the mesh to maximize\nperformance and reliability."),(0,i.kt)("li",{parentName:"ul"},"Search for nearby sites which are a maximum of 100 meters from the fiber\nPoP. It is important that the first hop sites can achieve the maximum RF\nmodulation rate (MCS12/MCS16(EDMG)) to ensure capacity is not choked for\nthe remaining hops."),(0,i.kt)("li",{parentName:"ul"},"The first hop site should ideally allow for three or four wireless links\nto the second hop sites to maximize reliability for the mesh topology.\nEach site should have a minimum of two wireless links to other sites in\nthe mesh topology."))),(0,i.kt)("li",{parentName:"ol"},"Identity sites which are two or more wireless hops away from the fiber PoPs.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Search for nearby sites which are a maximum of 200 meters from the first\nhop node. While Terragraph can support links up to 200 meters, the\nthroughput of the link will decline after 100 meters."),(0,i.kt)("li",{parentName:"ul"},"Each site should have a minimum of two wireless links to other sites in\nthe mesh topology."))),(0,i.kt)("li",{parentName:"ol"},"Continue to expand outwards from the fiber PoP."),(0,i.kt)("li",{parentName:"ol"},"As sites expand from the fiber PoP, these distinct networks should eventually\nintersect, thus forming a mesh topology between the different fiber PoPs.")),(0,i.kt)("h3",{id:"detailed-network-design-criteria"},"Detailed Network Design Criteria"),(0,i.kt)("h4",{id:"fiber-pops"},"Fiber PoPs"),(0,i.kt)("p",null,"The first element to analyze is where Terragraph can interconnect to a carrier's\nexisting fiber network. Any Primary-DN that is interconnected via fiber to a\ncarrier's network is known as a fiber PoP."),(0,i.kt)("p",null,"Terragraph has the following limitations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Terragraph can support nodes up to 15 wireless hops away from a fiber PoP."),(0,i.kt)("li",{parentName:"ul"},"Each wireless Terragraph link can support up to 1.8Gbps of throughput.")),(0,i.kt)("p",null,"The number of fiber PoPs needed in a Terragraph network is based on the\nthroughput and redundancy requirements of the network. It is recommended to\ndisperse fiber PoPs throughout the network to maximize performance and to allow\nfor geographical redundancy in case of a failure \u2014 that is, under a fiber PoP\nfailure, traffic should flow to an alternative fiber PoP."),(0,i.kt)("p",null,"The following points concern the wireless links at a fiber PoP site:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Given that a single fiber PoP will likely have to support a large number of\nsites in the mesh (the average could range from 10-50), it is crucial that\neach fiber PoP maximizes the number of wireless links which communicate into\nthe mesh."),(0,i.kt)("li",{parentName:"ul"},"If a fiber PoP site only had a Primary-DN, thus utilizing a single wireless\nlink to the first hop in the mesh, then the max throughput that the fiber\nPoP could pass would be limited to 1.8Gbps."),(0,i.kt)("li",{parentName:"ul"},"If a fiber PoP site had a Primary-DN and two Secondary-DNs, thus utilizing\nthree wireless links into the mesh, then the max throughput that the fiber\nPoP could pass would be up to 5.4Gbps (assuming no transit traffic through\nthe node)."),(0,i.kt)("li",{parentName:"ul"},"It is important that the wireless links from the fiber PoP to the first hop\nin the mesh only consist of point-to-point (e.g., 1xDN to 1xDN) connections,\nand not a point-to-multipoint (P2MP) connection (e.g., 1xDN to 2xDN). All\nP2MP connections in Terragraph divide the available time slots in half,\nwhich halves the available throughput for each link."),(0,i.kt)("li",{parentName:"ul"},"Terragraph cannot support a direct wireless link between PoP sites if they\nare already connected at the L2 layer via a wired switch.")),(0,i.kt)("p",null,"The location of fiber PoPs should be determined as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If there is only a single PoP location, it is best to locate the PoP near\nthe center of the Terragraph network topology. A centrally located PoP\nminimizes the hop count to all the nodes in the mesh which helps maximize\nperformance."),(0,i.kt)("li",{parentName:"ul"},"In a multi-PoP environment, there are certain locations which maximize the\nperformance and redundancy of a PoP. Ideally, PoP nodes should be located at\nleast one hop away from any edge of the topology to maximize the number of\ndiverse routes through the network.  This also means that PoPs should be\navoided at the corners of the network since there are only a limited number\nof routes from the corners to the rest of the network. These guidelines will\nvary depending on the actual fiber availability in the deployment. The\nfigure below shows an ideal mesh topology and the corresponding ratings for\nthe different PoP deployment locations.",(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/pop_placement.png",width:"500"}),(0,i.kt)("br",null),(0,i.kt)("em",null,"Ideal PoP deployment locations")))),(0,i.kt)("h4",{id:"terragraph-sites"},"Terragraph Sites"),(0,i.kt)("p",null,"Terragraph is a line-of-sight (LOS) wireless technology, which means that the\npath from one sector to another should be clear of obstructions. If LOS does not\nexist between two potential sites, then alternate sites need to be found."),(0,i.kt)("p",null,"To maintain a high level of reliability, it is recommended that each site have\nat least two links to other DNs in the topology. To maximize reliability, the\naverage number of wireless links per site (i.e., total number of wireless links\ndivided by the total number of sites) should be at least 3.0, but achieving this\nmay be logistically difficult and cost prohibitive."),(0,i.kt)("h3",{id:"network-design-tools"},"Network Design Tools"),(0,i.kt)("p",null,"There are a variety of RF and microwave planning tools that can be used to\ndesign a Terragraph network. Meta has utilized ",(0,i.kt)("a",{parentName:"p",href:"https://www.google.com/earth/desktop/"},"Google Earth")," to create visual\nrepresentations of the network topology, as it allows for a network to be\nquickly designed while offering access to satellite and street imagery.\nDepending on the location, Google Earth provides high-resolution imagery which\nshould help identify any LOS issues missed in the site survey phase. In\naddition, Google Earth can be used for the following tasks:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Identifying potential site locations, through the Street View and 3D\nbuilding modeling features, before a more comprehensive survey is completed."),(0,i.kt)("li",{parentName:"ul"},"Measuring link distance between nodes."),(0,i.kt)("li",{parentName:"ul"},"Creating a graphical view of the Terragraph topology.")),(0,i.kt)("p",null,"For additional information on Google Earth for network planning, refer to\n",(0,i.kt)("a",{parentName:"p",href:"/docs/runbook/Appendix#appendix-a"},"Appendix A"),"."),(0,i.kt)("p",null,"In upcoming releases, Terragraph will allow importing a CSV-format topology\ncontaining a list of sites, sectors, and links. The CSV structure has not yet\nbeen finalized."),(0,i.kt)("a",{id:"planning-site-survey"}),(0,i.kt)("h2",{id:"sitepole-selection-survey"},"Site/Pole Selection Survey"),(0,i.kt)("p",null,"The first step in creating a Terragraph network design is identifying all\npotential locations where Terragraph nodes can be mounted. Depending on the\ndeployment location, this could include street furniture, buildings, and\nexisting towers. Once the potential deployment locations have been identified,\nit is crucial to perform a site survey at these locations to determine if they\nare suitable for Terragraph."),(0,i.kt)("h3",{id:"site-survey-basics"},"Site Survey Basics"),(0,i.kt)("p",null,"All potential Terragraph sites need to be physically site surveyed to provide\nthe proper data during the initial network design. The site survey should\nevaluate all the following criteria:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A clear LOS to other potential sites/poles. Terragraph must also have at\nleast partial LOS to the sky to receive a GPS time fix for time\nsynchronization."),(0,i.kt)("li",{parentName:"ul"},"The structural capability of the site, given that a fully loaded Terragraph\nsite with four nodes and power supply weighs over 14kg. It is essential that\nthe site is structurally sound to support the weight, wind loading, and\nlong-term maintenance of the Terragraph equipment."),(0,i.kt)("li",{parentName:"ul"},"Continuous electrical power is available to the site/pole. Terragraph does not\nsupport holdover time, so even a momentary power outage or brownout will cause\nthe node to reboot. Additionally, the field team should verify that breakers\nand conductors are sized appropriately for the expected total current draw at\nthe site (please refer to the hardware specifications). Appropriate\nremediation should be put in place if the electrical work does not satisfy the\ntotal load at the site."),(0,i.kt)("li",{parentName:"ul"},"Site security and the likelihood of theft of the Terragraph equipment. If\ntheft can be an issue, it is important to identify if there is a way to\nsecure Terragraph equipment using the built-in security loop on the back of\nthe nodes.")),(0,i.kt)("p",null,"Note that the LOS survey should be completed first, followed by a mechanical\nsurvey and electrical circuit tracing."),(0,i.kt)("h3",{id:"los-survey"},"LOS Survey"),(0,i.kt)("p",null,"The LOS survey is one of the most important aspects during the site survey\nprocess. Even if there is a seemingly perfect location for a Terragraph node,\nthe site can not be utilized unless there is LOS to other nearby sites."),(0,i.kt)("p",null,"There are two types of LOS surveys:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Ground LOS")," - Involves performing a LOS survey at the ground level from\nsite A to site B and vice versa to establish LOS between two sites."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Elevated LOS")," - Involves performing an elevated LOS at the device level\n(may require a ladder, bucket truck, or drone) from site A to site B and\nvice versa to establish LOS. This is required when a survey at ground level\nis not sufficient to determine LOS.")),(0,i.kt)("p",null,"The important aspects to consider during LOS surveys are as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"LOS can change over time.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Trees grow leaves during spring/summer and they also grow over time. If a\nLOS survey is done in the winter, it is important to anticipate the\nchanges to vegetation."),(0,i.kt)("li",{parentName:"ul"},"If land is developed, buildings can rise and block a previously clear\npath. It is best to avoid wireless links over private land/property that\nis subject to frequent changes."))),(0,i.kt)("li",{parentName:"ul"},"LOS from each site should be evaluated to all potential sites within a 250\nmeter radius.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Identifying all LOS possibilities makes it easier to plan the ideal\nnetwork during the initial network design. Additionally, if it is\ndiscovered that a site is not feasible during the permitting process,\nhaving all the LOS survey data will make it easier to find an alternate\nsuitable replacement."),(0,i.kt)("li",{parentName:"ul"},"Terragraph can support link distances beyond 200 meters, but the\nmodulation rate could be impacted during inclement weather. Expanding the\nLOS to 250 meters provides additional options if there are few potential\nsites nearby."))),(0,i.kt)("li",{parentName:"ul"},"Check whether the site has LOS to the sky.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Terragraph has a GPS receiver integrated on top of the radio to allow for\nnetwork timing synchronization. It is best if Terragraph nodes have at\nleast partial LOS to the sky. If there are tall buildings surrounding the\nsite, this could pose an issue for the GPS receiver.")))),(0,i.kt)("h3",{id:"survey-documentation-guidelines"},"Survey Documentation Guidelines"),(0,i.kt)("p",null,"During a site survey, the field engineer should capture sufficient information\nto allow for an initial network design which will likely be completed by another\nengineer at a later date. Additionally, it is important to capture information\nrequired for permitting, as permits and leases (or equivalent) will likely be\nnecessary for most deployments given that Terragraph infrastructure is deployed\nacross public assets and private right of ways."),(0,i.kt)("p",null,"It is recommended to use a high resolution camera with optical zoom capability\nto capture site images and details during the site survey process."),(0,i.kt)("p",null,"At minimum, the field engineer should do the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Capture site location and access information such as address, site\nidentifier, GPS coordinates, directions to access the site, and potential\naccess issues, and also take photos of the site to help someone locate it in\nthe future."),(0,i.kt)("li",{parentName:"ul"},"Capture information about the existing physical assets deployed/connected,\nsuch as whether there is any existing telecom equipment, generators, utility\nmeters, etc. If the site is a pole, determine the lamp head type, and if\nthere are electrical lines running to the pole, determine whether wireless\naccess points or traffic cameras are deployed, etc. Take photos of this\nequipment to help assist with structural analysis, permit packages, and site\nsafety."),(0,i.kt)("li",{parentName:"ul"},"Gather information of the structural characteristics of the site, such as\nthe type of structure (e.g. roof, pole, tower), type of materials (e.g.\nsteel, concrete, wood), and size/height of the site. Additionally, any\nstructural damage should be documented as this could impact mechanical\nstability. If possible, capture photos of potential areas where Terragraph\ncould be mounted."),(0,i.kt)("li",{parentName:"ul"},"Gather information for the LOS portion of the survey discussed above.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Document nearby sites (use GPS coordinates or site identifier) which meet\nLOS requirements, and capture pictures showing LOS to these sites. If\npossible, ascertain the best mounting location for Terragraph radios to\nmaximize LOS."),(0,i.kt)("li",{parentName:"ul"},"Capture 360-degree photographs of the site, as design engineers can use\nthe 360-degree view to gain a better understanding of the LOS to other\navailable surrounding sites. The vantage point for these pictures should\nbe where a Terragraph node could be potentially mounted when facing other\npotential Terragraph nodes.")))),(0,i.kt)("a",{id:"planning-deployment"}),(0,i.kt)("h2",{id:"rf-deployment-guidelines"},"RF Deployment Guidelines"),(0,i.kt)("p",null,"This section describes important guidelines that should be followed during the\ndesign of a Terragraph network. While it is unlikely that all deployment\nguidelines can be followed in a large deployment, these guidelines will maximize\nthe performance and reliability of a Terragraph network."),(0,i.kt)("h3",{id:"dn-placement-considerations"},"DN Placement Considerations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Each DN shall be within ",(0,i.kt)("strong",{parentName:"li"},"15 wireless hops")," from the nearest fiber PoP\nlocation. This requirement is solely to minimize latency for user plane\ntraffic."),(0,i.kt)("li",{parentName:"ul"},"The preferred distance between any two DNs connecting over a wireless link\nis approximately ",(0,i.kt)("strong",{parentName:"li"},"25-150 meters")," to achieve MCS12 and a throughput of\n1.6Gbps. However, Terragraph will work reliably up to 250 meters, and should\nbe able to achieve MCS9 and a throughput of 1.0Gbps. Terragraph supports\nlinks up to 300 meters long, but throughput and reliability degrades at\nlengths longer than 250 meters due to the propagation characteristics of the\n60GHz band. The minimum link distance is 25 meters, which is based on the\npower control algorithm running on the nodes. Nodes placed within 25 meters\nof each other will not be able to reduce their transmit power commensurate\nto the link budget requirement. Although links will operate in such\nconditions, interference to other nodes may be a concern depending on the\nenvironment."),(0,i.kt)("li",{parentName:"ul"},"DN sectors support P2MP communication, and each sector supports a horizontal\nscan range of 75\xb0. P2MP mode divides the bandwidth of the wireless link, so it\nis not recommended for links requiring high capacity such as the first hop\nfrom the fiber PoP. A single DN sector can support wireless P2MP communication\nwith up to 15 other sectors on Puma. Any nodes placed within the distance and\nazimuth constraints of a DN are candidate nodes to form wireless links."),(0,i.kt)("li",{parentName:"ul"},"Each DN must have a clear line-of-sight to the DNs/CNs on the other side of\nthe link. There are no exceptions to the rule given the propagation\ncharacteristics of the 60GHz band."),(0,i.kt)("li",{parentName:"ul"},"It is important to mount Terragraph nodes on a stable structure to minimize\nthe effects of Terragraph nodes swaying under windy conditions.")),(0,i.kt)("h3",{id:"cn-placement-considerations"},"CN Placement Considerations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"No CN shall connect to a fiber PoP site. This guideline intends to avoid\ncreating a P2MP link on the DN at the fiber PoP, which would lead to a\ncapacity bottleneck."),(0,i.kt)("li",{parentName:"ul"},"Each CN should have a clear line-of-sight to a DN and be placed within 75\xb0\nazimuth and 25-250 meters of a DN."),(0,i.kt)("li",{parentName:"ul"},"It is important to mount a CN where there is access to both power and\nEthernet connectivity into a customer's home or business.")),(0,i.kt)("h3",{id:"legend-for-diagrams"},"Legend for Diagrams"),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_legend.png",width:"400"})),(0,i.kt)("h3",{id:"mounting-accuracy"},"Mounting Accuracy"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Achieve alignment accuracy of less than 3\xb0 in azimuth. Although the antennae\nhave a 75\xb0 scan, once the scan is complete, the antennae have a 3\xb0\nhorizontal beam width."),(0,i.kt)("li",{parentName:"ul"},"Achieve alignment accuracy of less than 0.5\xb0 to 1\xb0 in elevation. Over a 100\nmeter link, a 0.5\xb0 alignment error corresponds to a discrepancy of \xb10.4\nmeters in the height of the remote node.")),(0,i.kt)("h3",{id:"tight-angles"},"Tight Angles"),(0,i.kt)("p",null,"When installing multiple sectors at the same site the angle between links from\nthe different sector nodes should adhere to the following guidelines:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For applicable hardware designs, the angle between two nodes (i.e., the angle\nbetween the links supported by any two nodes) should be greater than 25\xb0."),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_angle_sectors.png",width:"350"}))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The angle between the intended link for a sector and the LOS path to any other\nsector which is connected to an adjacent sector on the same pole should be\ngreater than 15\xb0."),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_angle_links.png",width:"350"})))),(0,i.kt)("h3",{id:"near-far-ratio"},"Near-Far Ratio"),(0,i.kt)("p",null,"When the links formed by adjacent sectors on the same pole must differ\nsignificantly in distance, the following guidelines help to maximize\nperformance:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The longer link should not exceed 3 times the distance of the shorter link\nwhen the angle between the two radios is less than 45\xb0.")),(0,i.kt)("p",null,"A near-far link uses more power to overcome interference from the high power\nrequired for the long link. This creates more interference and raises the\ninterference profile of the whole network."),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_near_far.png",width:"512"})),(0,i.kt)("h3",{id:"link-distances"},"Link Distances"),(0,i.kt)("p",null,"Terragraph supports the following maximum distances for target MCS levels:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"In general, MCS 12 is ideal and MCS 9 is acceptable. The values below are\ndependent on following all other deployment guidelines:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"150 meters: MCS 12"),(0,i.kt)("li",{parentName:"ul"},"250 meters: MCS 9"),(0,i.kt)("li",{parentName:"ul"},"Minimum recommended distance: 25 meters (or 35 meters to avoid signal\ndistortion due to saturation of the receiver)")))),(0,i.kt)("p",null,"Maximum beamsteering angle:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Keep the links from a Terragraph sector within \xb137.5\xb0 of the center, as the\nantenna is optimized for this angle."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"A ",(0,i.kt)("em",{parentName:"li"},"grating lobe")," is an unnecessary side-lobe that is typically as strong\nas the main lobe. For the Terragraph HS (Huber Suhner Antenna) DN, a scan\nat an angle > 37.5\xb0 creates a grating lobe at an angle around -37.5\xb0. This\nresults in weaker main lobes and higher interference.",(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_grating_lobe.png",width:"400"}))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"More specifically, keep the links from a Terragraph sector within \xb125\xb0 of the\ncenter ",(0,i.kt)("em",{parentName:"p"},"in elevation"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"In P2MP deployments, ensure that the longest link is aligned to the center\nof the DN. Additionally, ensure the shorter links adhere to the beamsteering\nangle requirements specified above. This is because the longest link has the\nhighest path loss, and the maximum (beamformed) antenna gain is achieved\nwhen the sectors' azimuth is 0\xb0."),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_beamsteering_p2mp.png",width:"400"})))),(0,i.kt)("h3",{id:"node-height"},"Node Height"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Mount nodes as high as possible."),(0,i.kt)("li",{parentName:"ul"},"It is important to try to mount Terragraph radios over 5 meters above the\nground elevation. This minimizes ground bounce and avoids channel\nfluctuations, especially for links over long distances.")),(0,i.kt)("a",{id:"planning-special-topology"}),(0,i.kt)("h2",{id:"special-topology-guidelines"},"Special Topology Guidelines"),(0,i.kt)("p",null,"This section describes additional guidelines for special topology cases."),(0,i.kt)("h3",{id:"straight-line-interference"},"Straight Line Interference"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Unless adjacent links can operate on separate channels, nodes should not be\nplaced in a straight line, especially for links that are close together. This\nwould cause the desired link and interference link angles to be the same,\npreventing beamforming interference suppression. Note that this is usually not\na significant issue because of the large distance to the interference point.")),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_straight_line.png",width:"800"})),(0,i.kt)("h3",{id:"butterfly-two-dns-in-p2mp-configuration"},"Butterfly (Two DNs in P2MP Configuration)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Avoid tight angles (<15\xb0) in a butterfly topology (i.e., two DNs in P2MP\nconfiguration).")),(0,i.kt)("p",null,"The same Golay code is used for all links in the butterfly P2MP topology. Early\nweak interference is an interference that is weak enough to not create any\nSignal to Interference-plus-Noise Ratio (SINR) degradation, but still creates a\nblocking effect on the desired packet by locking the receiver before the arrival\nof the packet. Early-weak interference can be predominant, especially with tight\nangles. DN\u2192DN and DN\u2192CN should have a minimum of 15\xb0."),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_butterfly.png",width:"800"})),(0,i.kt)("h3",{id:"y-street-one-dn-in-p2mp-configuration"},"Y-Street (One DN in P2MP Configuration)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A DN with two peer DNs should be avoided in links that require high wireless\ncapacity. The first few hops away from a PoP node should avoid the Y-street\nconfiguration.")),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_ystreet.png",width:"800"})),(0,i.kt)("h3",{id:"hybrid-polarity-odd-number-of-sites"},"Hybrid Polarity (Odd Number of Sites)"),(0,i.kt)("p",null,"In a network topology with an odd number of sites in a loop, sectors at one of\nthe sites must operate in a hybrid mode. Hybrid mode indicates that sectors at\nthe same site operate with different polarities. Links that need high wireless\ncapacity, such as the first few hops away from a PoP node, should avoid using\nthe hybrid polarity feature."),(0,i.kt)("p",null,"To maximize performance:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"All sectors on a pole should be the same polarity; one never receives while\nthe other transmits."),(0,i.kt)("li",{parentName:"ul"},"All loops should have an even number of Terragraph links. This ensures the\nsame polarity per site.")),(0,i.kt)("p",null,"When an odd loop exists and a hybrid sector must be used, a site can be either a\n",(0,i.kt)("em",{parentName:"p"},"hardware")," hybrid or ",(0,i.kt)("em",{parentName:"p"},"software")," hybrid depending on the following conditions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If the sectors have an angular separation > 90\xb0 (for hardware designs which\nsupport this), hardware hybrids can be used. Each sector on the site is\nassigned a normal even or odd polarity."),(0,i.kt)("li",{parentName:"ul"},'If the sectors have an angular separation < 90\xb0, then there is a chance of\nself-interference and a software hybrid sector may be needed ("hybrid-even" or\n"hybrid-odd"). This will reduce the available throughput by half.')),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/figures/deployment_odd_cycle.png",width:"700"})))}u.isMDXComponent=!0}}]);